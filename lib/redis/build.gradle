plugins {
    id 'superconductor.java-conventions'
}

repositories {
    mavenCentral()
}

dependencies {
    api project(':superconductor-base')

//    def redisOmVersion = '1.0.0-RC3'
//    implementation 'com.redis.om:redis-om-spring:' + redisOmVersion
//    annotationProcessor 'com.redis.om:redis-om-spring:' + redisOmVersion
}

// Tell Gradle to include the generated sources directory
sourceSets {
    main {
        java {
            srcDir file("${buildDir}/generated/sources/annotationProcessor/java/main")
        }
    }
    test {
        java {
            srcDir file("${buildDir}/generated/sources/annotationProcessor/java/test")
        }
    }
}

// Configure the Java compile task
compileJava {
    options.annotationProcessorPath = configurations.annotationProcessor
    options.annotationProcessorGeneratedSourcesDirectory = file("${buildDir}/generated/sources/annotationProcessor/java/main")
}

// For test sources
compileTestJava {
    options.annotationProcessorPath = configurations.testAnnotationProcessor
    options.annotationProcessorGeneratedSourcesDirectory = file("${buildDir}/generated/sources/annotationProcessor/java/test")
}
